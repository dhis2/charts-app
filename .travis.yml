language: node_js
node_js:
- '6'
cache:
  directories:
  - node_modules
script:
- npm run build
after_success:
- if ( [ "$TRAVIS_BRANCH" == "master" ] || [ ! -z "$TRAVIS_TAG" ] ) && [ "$TRAVIS_REPO_SLUG"
  == "dhis2/charts-app" ]  &&  [ "$TRAVIS_PULL_REQUEST" == "false" ] ; then mvn clean
  deploy --settings deploy/settings.xml && exit 0; fi
env:
  global:
  - secure: sSZkmWtGeTXxqiDmRRCKsURhktjbf+Q/ShTaE1EOzeqdvcNrWEWeKG0AFYEk2hVM0Fur6DcEEVzS7OO61TFj50K9FiVDvfyZcdUJjCVy//52tE/yUjQDgLbc6I5txmIXk8u0Y8c17ndkNM84bxJiFQDf4A4pNgEC+Q9GdRsRbUAd6bCpIUBufzyKmg4gqzXeqRw6PL6y+rUN1746GgkLDmpBHjawyD2bA9vqJlBcnqhNxWk3PlKxK+kl3csZfDgFY/VloyxoyaAPl/UFH03T4ZG133op0JaZlC+XNWaGBlLchB/HepE/T0WuWfHqpQnLTzAQL3zlkGxqM0dEmjO+jXMtYE2ueFudNriHq3DJjXFCN1LAcACcv2sJhYu3CMVcWWXe3wqURudxZpzq5cL2638lHZAlzrrbZC9V7pjud1AXsUkpgSaJqaTpmW/zRFVpwqCPCu5TI32HYRgKtG2K8Ut6Jtb9qBQhlWTWelqbzyspSa7dU3iVReXAer4twNUgMz45/5WI+4iAKDgOFR1Eci/Md0XSJ7UlZ9yZVTSBxehyPS3W/fLeomU+IG0ZHX6oLW0At8oircDHVsOmYEDBtwDj80xgmfwNTZ0919r5jBeSz8TcwRU5hSbe1Nk0ozRgYYAylWTYz453XTozt/4k0zpQAjSz5TBZ1L9wPpMf/mo=
  - secure: tdQrIhKmm2wP2PTKQpB/HH+Kj1h2cPNafcRrMEEw6whzgcFhxbvFwPI2QgGNebJ+/nECpC0psSfD/BHC7yIgyOml0ZG6tSRDGK6VotaTSUEdJfstjBQ7wkrfTmOX/anYxvX5FJpaQ9cssvCgYsQG154Qh3bprwALAuEtWCsZJfTU9ePJiY8LeQqD9AY8ACCld9fFtCSVYV1wa59VvY048NmMb4ZnBTE+4zYz7oC8X26e5BKZ6xh9h5pIhYk7FH876PqdxGfQfGV20Dz/tbYssor0J+DcQpOnlYuQAoP58htiBV+MdPO1f5e5XEFl9n1v2pAxYqGvSubE6HmhSRuOMTemoo2afPbRLA1JBGfR315bSWXtSj6E0nA1f+gMlXLK2uXM5con/q3aA4BmPC08s+vuhlPOX2ZxrUkfX51HSfYETxfK1XkaLCTjZe/hWg+OOHZyW7lwJxgSj6I1Kd6kVluHBT7ePNm8CpYeGRFklTNK3aFZBvI+KdJTFhYyv+IFoPFeWf8DqSTFm913IQiNkCMwD4aa98JCAzbzZUPMNSxRh5Zy2TO3OsZ07jgBeoo0PauFhJ56oe/SxqTL5/kusw9UufAeSTc25nfltx4l7A3SqJB8urgtLp9SM75ODprvmgC97Uoyg4C3jLsfGMhFrfS0SWcHaWhpPRlWnzmf9hg=
notifications:
  slack:
    secure: J4GKn5vY7RmegqytRDM9Au3qFO6igMAYysZfc/OyDC+yYhz2XkVPVrbUAeLQ4fdX2SgOx5O/cmSVtvs0S8L9XtKTmJIYxVJjVTZgVmjHkImEwqKHWs6pdXPNMPzbsvFKv6QZtRHtVHvrg51vIGn5KLpWxTD6rhvH2hY8q9OO5TbUjbaXgQNqYYlwa0x6K8nTDscBSXb3kRzqqsNKKRfOUK+pb0LIzM0llP/FQbBqj3glWHRJCf7bWGi6zFqwIRg+AmG714E1aiKG7qorQWgAng9znTZ7SpobgiR6WOB7i2EqtnTAHUzrRS4kO/wxUpBCwWEpUwn+73f8axXSY7qYUPiJh18tOTyd5/2iYOe6FX3lX33Py3ePksYpNfmynFxPS1jzv6HghcTLsJ5DwlU4DewhLGeO1D2JY6uA6FmWeXF0BJAD/BEMhjIRb1f/kEv75f7tpyA+1jAzv2uQg+uiOZZKmkog0810WF8SmrS63xYY/bn137RYdYHwJA6wUxWnPnbzlwPQOF39U5t2tacJVJpxMbg4877zI4djeDWqTRFK2xzg24QVh4x17J8J+yr0OlnDkYU03yGkhRyi5t2ay1k3fS2xnMS/vjD509wkAnLFy5596vvu6sRlLP9s3QOZJWgagJbof/iJDk7W39kOWpg17eMPXZQISFEcAMj/eh8=
    on_success: change
    on_failure: always
