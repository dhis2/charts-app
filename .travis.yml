language: node_js
node_js:
- '6'
cache:
  yarn: true
  directories:
  - node_modules
script:
- npm run build
after_success:
- if ( [ "$TRAVIS_BRANCH" == "master" ] || [ ! -z "$TRAVIS_TAG" ] ) && [ "$TRAVIS_REPO_SLUG"
  == "dhis2/charts-app" ]  &&  [ "$TRAVIS_PULL_REQUEST" == "false" ] ; then mvn clean
  deploy --settings deploy/settings.xml && exit 0; fi
env:
  global:
  - secure: QZ2FzVIN+iWowWxFFC+vgvkEi3jkJwC4nkI7gxfuiwDJGviMSERHHKR2IweV91NF+o3inArLIxHyCZvKVK0rivChzH6j+Kw0mLxtasI+YBTNcN0N6Dtfs5tMsAIpX23+lfVjA6gm0lC3J+c9Vem0RXUlzFqkcb7s6+2B4egS4WePdGzHw2kLuzKYeSYAdbbr6GK0wLB97o1Xcpitq5Th4e/jbXaHa3bsSBg26gEuyBJyo3gKz/8dNCPh/fAk/LeM25AhQU5mJ+Fihr+UsiKMSxPwpScEiMlZcjkniqEu6Q00elugeX/Srvkcw4F41tqWzm8xsNKvRoLXndzjVVwBZL4mQWAraq5PN50/oU8kp9lBCnedFu//vMJ+1ZLhuJ12pK5xfkjimUceWM1tJs+Y+u+o2ZHZ31t1Nt8MQc7nz1EgBa/+AeexVyuchskcvdBi9soFvf5d8XeZl7y/dF+7ciGZeDdn55UQkH/TzK9flbbWQ5FS1PhsCnDLH9KWyI3eEVQCLLtjw3b2ZkhS7A3utedHZE8NCjMVyoY93FdS1XJX4XzB3KwHzeKyA1idE0j3Bu0lKjBdja7pVW2Zmecm+Kzxecz1sTPD2VaG9zbJXlGGShuq2Ke9wPvkpFZk2W10Z3b4ukkwDj+B45ej/N9Y3UbfA4xJ+cG8S6tBQucz2zU=
  - secure: Cto7G9iKPlWRqbQHMBFGeSTeqFxGNTkyBz2lE36aJmwgubvNfXnMp4SoBF3sf1p64t57j8sywijcoZpWOewQXGKownNtSyfGFY2YsdB91D1hMy+PwrXB51qD4Swm69CImttUeqH5UJHsz4LWfIHqPpJvysMj9vd1viA95yHuiBAdo8Rq82BiXPTGLTgkPy5xY2eWWtrGQi8VKbo9ryQinh9LACQY/mQZE8BTRptQ0AGG7r7cG4K/Sh9XAxEG3j0XtBpmqzCjCK5RI267/+/DXU+31duJOazwvGQhpjsGgMlsI1OTULyXQ1QaGNV1zWijbc4EzMka0b40SNxg85gtlwKhPHKTXqZVajmes/Vimd6i558zwFiSJY9re0AmwgXX8bLVyG8Z7YPnQTGOq1zTr6zm4ykDu5cUntNCWX+LjCEeY76nqaMp1U8/xuC/gz3gXXo3TmEfhpI44VpRRN+sF5a/WMVldWeG56U4XM3m3kbnv2nrk9CyhIi3k/6fsNw2x+LoBDJDBvf+tFV0bCOUaM67aRzCmorv3qIw1lKn+X9M7QVE6WcwoAz2pvnCDf6ObhTraGL8yqQU25DpaisNTeuceIjHunm6dHmdGhH34L0xUHXyHJidxYuU35bBDtFXZzO8kopxpbjgfY6E0hwo2FbW4brX4+AOU0cgZtf6WU8=
notifications:
  slack:
    secure: J4GKn5vY7RmegqytRDM9Au3qFO6igMAYysZfc/OyDC+yYhz2XkVPVrbUAeLQ4fdX2SgOx5O/cmSVtvs0S8L9XtKTmJIYxVJjVTZgVmjHkImEwqKHWs6pdXPNMPzbsvFKv6QZtRHtVHvrg51vIGn5KLpWxTD6rhvH2hY8q9OO5TbUjbaXgQNqYYlwa0x6K8nTDscBSXb3kRzqqsNKKRfOUK+pb0LIzM0llP/FQbBqj3glWHRJCf7bWGi6zFqwIRg+AmG714E1aiKG7qorQWgAng9znTZ7SpobgiR6WOB7i2EqtnTAHUzrRS4kO/wxUpBCwWEpUwn+73f8axXSY7qYUPiJh18tOTyd5/2iYOe6FX3lX33Py3ePksYpNfmynFxPS1jzv6HghcTLsJ5DwlU4DewhLGeO1D2JY6uA6FmWeXF0BJAD/BEMhjIRb1f/kEv75f7tpyA+1jAzv2uQg+uiOZZKmkog0810WF8SmrS63xYY/bn137RYdYHwJA6wUxWnPnbzlwPQOF39U5t2tacJVJpxMbg4877zI4djeDWqTRFK2xzg24QVh4x17J8J+yr0OlnDkYU03yGkhRyi5t2ay1k3fS2xnMS/vjD509wkAnLFy5596vvu6sRlLP9s3QOZJWgagJbof/iJDk7W39kOWpg17eMPXZQISFEcAMj/eh8=
    on_success: change
    on_failure: always
